<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>富文本编辑器</title>
    <script src="/static/tiny_mce/tiny_mce.js"></script>
    <script src="{% static 'js/jquery.min.js' %}" type="text/javascript"></script>
    <script>
        tinyMCE.init({
            'mode':'textareas',
            'width':800,
            'height':600,
        })
    </script>
</head>
<body>
<div style="margin-left: 20%">
{#    {% url 'blog:save' %}#}
    <form name="boke" action="{% url 'blog:save' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    标题：<input type="text" name="title">

    简介：<input type="text" name="intro">
        <input type="radio" name="kinds" value="散文" >散文
        <input type="radio" name="kinds" value="诗歌" >诗歌
        <input type="radio" name="kinds" value="叙事" >叙事
        <input type="radio" name="kinds" value="日记" >日记
        <input type="radio" name="kinds" value="摘抄" >摘抄
    <textarea name="content"></textarea>

    <input type="submit" name="publish" value="发表博客">
    <input type="submit" name="saves" value="存为草稿">

{#    <input type="button" onclick="test(2)" value="存为草稿">#}

    </form>
</div>

{#<script type="text/javascript">#}
{#    function test(val) {#}
{#        //判断参数#}
{#        if (val == 1) {#}
{#            console.log('===============')#}
{#            var url = "/blog/save/";#}
{#            var params = $("#boke").serialize();#}
{#            //异步处理#}
{#            $.post(url, params);#}
{#        }#}
{#        if (val == 2) {  //保存到草稿箱#}
{#            console.log('+++++++++++++++++')#}
{#            var url = "/blog/draft/";#}
{#            var params = $("#boke").serialize();#}
{#            //异步处理#}
{#            $.post(url, params);#}
{#        }#}
{#    }#}
{#</script>#}
</body>
</html>



